<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>GasCar Elma Project: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GasCar Elma Project
   </div>
   <div id="projectbrief">A project based on the event loop manager &#39;elma&#39; for embedded systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">GasCar Elma Project Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="http://klavinslab.org/elma">Elma</a> is an event loop manager designed to teach embedded and reactive systems programming. This repository contains an example Elma project, showing how to use many Elma features, as well as illustrating how to arrange the files and directories in an Elma project.</p>
<p>The source code for this project is available <a href="https://github.com/klavinslab/elma_project">on github</a>.</p>
<p><a href="https://github.com/fyiyu091/elma_project">GasCar</a> is a project that uses the Elma system to simulate the gascar model.</p>
<h2>Installation </h2>
<pre class="fragment">git clone https://github.com/fyiyu091/elma_project
cd elma_project
docker run -v $PWD:/source -it klavins/elma:latest bash
make
make docs
</pre><h2>Execution </h2>
<p>To run the gascar, type </p><pre class="fragment">bin/gascar
</pre><p>The gascar is controlled via the keyboard, via these keys:</p><ul>
<li><b>z</b>: start the gascar (to active state)</li>
<li><b>w</b>: move up</li>
<li><b>s</b>: move down</li>
<li><b>d</b>: move right</li>
<li><b>a</b>: move left</li>
<li><b>q</b>: quit</li>
<li><b>f</b>: to fillgas state</li>
<li><b>a</b>: add gas</li>
<li><b>r</b>: back to active state</li>
</ul>
<h2>Architecture </h2>
<ul>
<li>The gascar project is essentially a statemachine that has three states: off, active and fillgas.</li>
<li>Initially, the gascar model will starts at off state, event "start(press z)" will trigger the model to active state with 10 units of gases.</li>
<li>In the active state, you can use "wsad" to move the car("*"), note each movement will burn down one unit gas. Event "addgas(press f)" will trigger the model to fillgas state.</li>
<li>In the fillgas state, you can press 'a' to add gas. Event "restart(press r)" will trigger the model back to active state.</li>
<li>Besides, event "park(press p)" will trigger the model from active to off state.</li>
<li>In any of the three states, you can press "q" to exit the gascar model simulation.</li>
<li>Warning: Movement while the gas is at 0 level will prompt the error message on the screen and exit the model, so please remember to add gas!</li>
</ul>
<h2>Results </h2>
<ul>
<li>The code can simulate the car model behaviours as described above.</li>
<li>Each state will have their own unique message displayed and different operational keys.</li>
<li>The following are the different state screenshots.</li>
<li>off_state <blockquote class="doxtable">
<div class="image">
<img src="https://github.com/fyiyu091/elma_project/blob/master/elma_project/docs/offstate.PNG"  alt="off_state"/>
</div>
 </blockquote>
</li>
<li>active_state <blockquote class="doxtable">
<div class="image">
<img src="https://github.com/fyiyu091/elma_project/blob/master/elma_project/docs/activestate.PNG"  alt="active_state"/>
</div>
 </blockquote>
</li>
<li>fillgas_state <blockquote class="doxtable">
<div class="image">
<img src="https://github.com/fyiyu091/elma_project/blob/master/elma_project/docs/fillgasstate.PNG"  alt="fillgas_state"/>
</div>
 </blockquote>
</li>
<li>park_off_state <blockquote class="doxtable">
<div class="image">
<img src="https://github.com/fyiyu091/elma_project/blob/master/elma_project/docs/park_off.PNG"  alt="off_park_state"/>
</div>
 </blockquote>
</li>
</ul>
<h2>Acknowledgements </h2>
<ul>
<li>Appreciate Professor Eric Klavins and TA Justin, Henry for teaching the embedded software engineering class.</li>
</ul>
<h2>References </h2>
<ul>
<li><a href="http://www.tldp.org/HOWTO/NCURSES-Programming-HOWTO/">Ncurses</a></li>
<li><a href="http://www.doxygen.nl/index.html">doxygen</a> </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2019 01:21:34 for GasCar Elma Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
